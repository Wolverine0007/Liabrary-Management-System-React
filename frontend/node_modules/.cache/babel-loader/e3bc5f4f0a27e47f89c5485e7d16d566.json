{"ast":null,"code":"var _jsxFileName = \"/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Dashboard/Dashboard.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './Dashboard.css';\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchDashboardData = () => {\n      Promise.all([axios.get('/api/dashboard'), axios.get('/api/overdueBooks'), axios.get('/api/studentsWithFines')]).then(([analyticsRes, overdueRes, finesRes]) => {\n        console.log('Dashboard data:', {\n          analytics: analyticsRes.data,\n          overdueBooks: overdueRes.data,\n          studentsWithFines: finesRes.data\n        });\n        this.setState({\n          analytics: analyticsRes.data,\n          overdueBooks: overdueRes.data,\n          studentsWithFines: finesRes.data,\n          loading: false\n        });\n      }).catch(error => {\n        console.error('Error fetching dashboard data:', error);\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.state = {\n      analytics: {},\n      overdueBooks: [],\n      studentsWithFines: [],\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    this.fetchDashboardData();\n  }\n\n  render() {\n    const _this$state = this.state,\n          analytics = _this$state.analytics,\n          overdueBooks = _this$state.overdueBooks,\n          studentsWithFines = _this$state.studentsWithFines,\n          loading = _this$state.loading;\n    if (loading) return React.createElement(\"div\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Loading Dashboard...\");\n    return React.createElement(\"div\", {\n      className: \"dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"dashboard-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"dashboard-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Library Overview\"), React.createElement(\"p\", {\n      className: \"dashboard-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Monitor your library's activities and statistics\")), React.createElement(\"div\", {\n      className: \"stats-grid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"stat-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Total Books\"), React.createElement(\"div\", {\n      className: \"stat-number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, analytics.totalBooks || 0)), React.createElement(\"div\", {\n      className: \"stat-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Available Books\"), React.createElement(\"div\", {\n      className: \"stat-number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, analytics.availableBooks || 0)), React.createElement(\"div\", {\n      className: \"stat-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Total Students\"), React.createElement(\"div\", {\n      className: \"stat-number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, analytics.totalStudents || 0)), React.createElement(\"div\", {\n      className: \"stat-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Books Borrowed\"), React.createElement(\"div\", {\n      className: \"stat-number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, analytics.totalBorrowed || 0)), React.createElement(\"div\", {\n      className: \"stat-card overdue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Overdue Books\"), React.createElement(\"div\", {\n      className: \"stat-number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, analytics.overdueBooks || 0)), React.createElement(\"div\", {\n      className: \"stat-card fines\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Total Fines\"), React.createElement(\"div\", {\n      className: \"stat-number\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"\\u20B9\", analytics.totalFines || 0))), React.createElement(\"div\", {\n      className: \"dashboard-sections\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Overdue Books\"), overdueBooks.length === 0 ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"No overdue books\") : React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Student ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Student\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Book\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Days Overdue\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Deadline\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, overdueBooks.slice(0, 5).map((book, index) => React.createElement(\"tr\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, book.studentId), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, book.studentName), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, book.bookName), React.createElement(\"td\", {\n      className: \"overdue-days\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, book.daysOverdue), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, new Date(book.deadline).toLocaleDateString())))))), React.createElement(\"div\", {\n      className: \"section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Students with Fines\"), studentsWithFines.length === 0 ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"No outstanding fines\") : React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Student ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Student Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Recorded Fine\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Pending Fine\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Total\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, studentsWithFines.slice(0, 5).map(student => {\n      const pendingFine = overdueBooks.filter(book => book.studentName === student.name).reduce((total, book) => total + Math.max(0, book.daysOverdue) * 10, 0);\n      const recordedFine = parseFloat(student.fine) || 0;\n      const totalFine = recordedFine + pendingFine;\n      return React.createElement(\"tr\", {\n        key: student.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, student.id), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, student.name), React.createElement(\"td\", {\n        className: \"fine-amount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"\\u20B9\", recordedFine.toFixed(2)), React.createElement(\"td\", {\n        className: \"pending-fine\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"\\u20B9\", pendingFine.toFixed(2)), React.createElement(\"td\", {\n        className: \"total-fine\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"\\u20B9\", totalFine.toFixed(2))));\n    }))))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Dashboard/Dashboard.js"],"names":["React","Component","axios","Dashboard","constructor","props","fetchDashboardData","Promise","all","get","then","analyticsRes","overdueRes","finesRes","console","log","analytics","data","overdueBooks","studentsWithFines","setState","loading","catch","error","state","componentDidMount","render","totalBooks","availableBooks","totalStudents","totalBorrowed","totalFines","length","slice","map","book","index","studentId","studentName","bookName","daysOverdue","Date","deadline","toLocaleDateString","student","pendingFine","filter","name","reduce","total","Math","max","recordedFine","parseFloat","fine","totalFine","id","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './Dashboard.css';\n\nclass Dashboard extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            analytics: {},\n            overdueBooks: [],\n            studentsWithFines: [],\n            loading: true\n        };\n    }\n\n    componentDidMount() {\n        this.fetchDashboardData();\n    }\n\n    fetchDashboardData = () => {\n        Promise.all([\n            axios.get('/api/dashboard'),\n            axios.get('/api/overdueBooks'),\n            axios.get('/api/studentsWithFines')\n        ])\n        .then(([analyticsRes, overdueRes, finesRes]) => {\n            console.log('Dashboard data:', {\n                analytics: analyticsRes.data,\n                overdueBooks: overdueRes.data,\n                studentsWithFines: finesRes.data\n            });\n            this.setState({\n                analytics: analyticsRes.data,\n                overdueBooks: overdueRes.data,\n                studentsWithFines: finesRes.data,\n                loading: false\n            });\n        })\n        .catch(error => {\n            console.error('Error fetching dashboard data:', error);\n            this.setState({ loading: false });\n        });\n    }\n\n    render() {\n        const { analytics, overdueBooks, studentsWithFines, loading } = this.state;\n\n        if (loading) return <div className=\"loading\">Loading Dashboard...</div>;\n\n        return (\n            <div className=\"dashboard\">\n                <div className=\"dashboard-header\">\n                    <h1 className=\"dashboard-title\">Library Overview</h1>\n                    <p className=\"dashboard-subtitle\">Monitor your library's activities and statistics</p>\n                </div>\n                \n                <div className=\"stats-grid\">\n                    <div className=\"stat-card\">\n                        <h3>Total Books</h3>\n                        <div className=\"stat-number\">{analytics.totalBooks || 0}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                        <h3>Available Books</h3>\n                        <div className=\"stat-number\">{analytics.availableBooks || 0}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                        <h3>Total Students</h3>\n                        <div className=\"stat-number\">{analytics.totalStudents || 0}</div>\n                    </div>\n                    <div className=\"stat-card\">\n                        <h3>Books Borrowed</h3>\n                        <div className=\"stat-number\">{analytics.totalBorrowed || 0}</div>\n                    </div>\n                    <div className=\"stat-card overdue\">\n                        <h3>Overdue Books</h3>\n                        <div className=\"stat-number\">{analytics.overdueBooks || 0}</div>\n                    </div>\n                    <div className=\"stat-card fines\">\n                        <h3>Total Fines</h3>\n                        <div className=\"stat-number\">₹{analytics.totalFines || 0}</div>\n                    </div>\n                </div>\n\n                <div className=\"dashboard-sections\">\n                    <div className=\"section\">\n                        <h3>Overdue Books</h3>\n                        {overdueBooks.length === 0 ? (\n                            <p>No overdue books</p>\n                        ) : (\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th>Student ID</th>\n                                        <th>Student</th>\n                                        <th>Book</th>\n                                        <th>Days Overdue</th>\n                                        <th>Deadline</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {overdueBooks.slice(0, 5).map((book, index) => (\n                                        <tr key={index}>\n                                            <td>{book.studentId}</td>\n                                            <td>{book.studentName}</td>\n                                            <td>{book.bookName}</td>\n                                            <td className=\"overdue-days\">{book.daysOverdue}</td>\n                                            <td>{new Date(book.deadline).toLocaleDateString()}</td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        )}\n                    </div>\n\n                    <div className=\"section\">\n                        <h3>Students with Fines</h3>\n                        {studentsWithFines.length === 0 ? (\n                            <p>No outstanding fines</p>\n                        ) : (\n                            <table>\n                                <thead>\n                                    <tr>\n                                        <th>Student ID</th>\n                                        <th>Student Name</th>\n                                        <th>Recorded Fine</th>\n                                        <th>Pending Fine</th>\n                                        <th>Total</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {studentsWithFines.slice(0, 5).map(student => {\n                                        const pendingFine = overdueBooks\n                                            .filter(book => book.studentName === student.name)\n                                            .reduce((total, book) => total + (Math.max(0, book.daysOverdue) * 10), 0);\n                                        const recordedFine = parseFloat(student.fine) || 0;\n                                        const totalFine = recordedFine + pendingFine;\n                                        \n                                        return (\n                                            <tr key={student.id}>\n                                                <td>{student.id}</td>\n                                                <td>{student.name}</td>\n                                                <td className=\"fine-amount\">₹{recordedFine.toFixed(2)}</td>\n                                                <td className=\"pending-fine\">₹{pendingFine.toFixed(2)}</td>\n                                                <td className=\"total-fine\"><strong>₹{totalFine.toFixed(2)}</strong></td>\n                                            </tr>\n                                        );\n                                    })}\n                                </tbody>\n                            </table>\n                        )}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}