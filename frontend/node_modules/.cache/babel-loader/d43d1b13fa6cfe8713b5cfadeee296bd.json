{"ast":null,"code":"import _objectSpread from \"/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Books/Books.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport config from '../../config';\nimport './Books.css';\n\nclass Books extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      books: [],\n      newBook: {\n        name: '',\n        author: '',\n        book_count: 1\n      },\n      searchQuery: '',\n      loading: false,\n      bulkBooks: '',\n      showBulkImport: false\n    };\n\n    this.fetchBooks = () => {\n      this.setState({\n        loading: true\n      });\n      axios.get(`${config.API_BASE_URL}/api/getBooks`).then(response => {\n        this.setState({\n          books: response.data,\n          loading: false\n        });\n      }).catch(error => {\n        console.error('Error fetching books:', error);\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.addBook = e => {\n      e.preventDefault();\n      if (!this.state.newBook.name.trim() || !this.state.newBook.author.trim()) return;\n      axios.post(`${config.API_BASE_URL}/api/addBook`, this.state.newBook).then(response => {\n        this.setState({\n          newBook: {\n            name: '',\n            author: '',\n            book_count: 1\n          }\n        });\n        this.fetchBooks();\n        alert('Book added successfully!');\n      }).catch(error => {\n        console.error('Error adding book:', error);\n        alert('Failed to add book');\n      });\n    };\n\n    this.searchBooks = () => {\n      if (!this.state.searchQuery.trim()) {\n        this.fetchBooks();\n        return;\n      }\n\n      axios.get(`${config.API_BASE_URL}/api/searchBooks/${this.state.searchQuery}`).then(response => {\n        this.setState({\n          books: response.data\n        });\n      }).catch(error => {\n        console.error('Error searching books:', error);\n      });\n    };\n\n    this.deleteBook = (bookId, bookName) => {\n      if (window.confirm(`Are you sure you want to delete \"${bookName}\"?`)) {\n        axios.delete(`${config.API_BASE_URL}/api/deleteBook/${bookId}`).then(response => {\n          alert('Book deleted successfully!');\n          this.fetchBooks();\n        }).catch(error => {\n          var _error$response, _error$response$data;\n\n          console.error('Error deleting book:', error);\n          alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to delete book');\n        });\n      }\n    };\n\n    this.bulkImportBooks = () => {\n      if (!this.state.bulkBooks.trim()) {\n        alert('Please enter book data');\n        return;\n      }\n\n      const lines = this.state.bulkBooks.trim().split('\\n');\n      const books = [];\n\n      for (let line of lines) {\n        const parts = line.split(',').map(part => part.trim());\n\n        if (parts.length >= 2) {\n          books.push({\n            name: parts[0],\n            author: parts[1],\n            book_count: parseInt(parts[2]) || 1\n          });\n        }\n      }\n\n      if (books.length === 0) {\n        alert('No valid book data found. Format: Book Name, Author, Count');\n        return;\n      }\n\n      axios.post(`${config.API_BASE_URL}/api/bulkAddBooks`, {\n        books\n      }).then(response => {\n        alert(response.data.message);\n        this.setState({\n          bulkBooks: '',\n          showBulkImport: false\n        });\n        this.fetchBooks();\n      }).catch(error => {\n        console.error('Error bulk importing books:', error);\n        alert('Failed to import books');\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchBooks();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"books\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"books-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"books-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Book Collection\"), React.createElement(\"p\", {\n      className: \"books-subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Manage your library's book inventory\")), React.createElement(\"div\", {\n      className: \"add-book-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Add Books\"), React.createElement(\"div\", {\n      className: \"form-toggle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: !this.state.showBulkImport ? 'active' : '',\n      onClick: () => this.setState({\n        showBulkImport: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Single Book\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: this.state.showBulkImport ? 'active' : '',\n      onClick: () => this.setState({\n        showBulkImport: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Bulk Import\"))), !this.state.showBulkImport ? React.createElement(\"form\", {\n      onSubmit: this.addBook,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Book Name\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter book name\",\n      value: this.state.newBook.name,\n      onChange: e => this.setState({\n        newBook: _objectSpread({}, this.state.newBook, {\n          name: e.target.value\n        })\n      }),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Author\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter author name\",\n      value: this.state.newBook.author,\n      onChange: e => this.setState({\n        newBook: _objectSpread({}, this.state.newBook, {\n          author: e.target.value\n        })\n      }),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Count\"), React.createElement(\"input\", {\n      type: \"number\",\n      placeholder: \"Number of copies\",\n      min: \"1\",\n      value: this.state.newBook.book_count,\n      onChange: e => this.setState({\n        newBook: _objectSpread({}, this.state.newBook, {\n          book_count: parseInt(e.target.value)\n        })\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Add Book\"))) : React.createElement(\"div\", {\n      className: \"bulk-import\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"bulk-instructions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Enter books in format: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Book Name, Author, Count\"), \" (one per line)\"), React.createElement(\"textarea\", {\n      placeholder: \"Example:\\\\nHarry Potter, J.K. Rowling, 5\\\\nLord of the Rings, J.R.R. Tolkien, 3\",\n      value: this.state.bulkBooks,\n      onChange: e => this.setState({\n        bulkBooks: e.target.value\n      }),\n      rows: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.bulkImportBooks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Import Books\"))), React.createElement(\"div\", {\n      className: \"search-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Search Books\")), React.createElement(\"div\", {\n      className: \"search-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Search Query\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search by name or author...\",\n      value: this.state.searchQuery,\n      onChange: e => this.setState({\n        searchQuery: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.searchBooks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"button\", {\n      className: \"secondary\",\n      onClick: () => {\n        this.setState({\n          searchQuery: ''\n        });\n        this.fetchBooks();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Clear\"))), this.state.loading ? React.createElement(\"div\", {\n      className: \"loading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Loading books...\") : React.createElement(\"div\", {\n      id: \"results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Book Inventory (\", this.state.books.length, \" books)\"), React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Book Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Author\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Available Count\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, this.state.books.map(book => React.createElement(\"tr\", {\n      key: book.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, book.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, book.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, book.author), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, book.book_count), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"delete-btn danger\",\n      onClick: () => this.deleteBook(book.id, book.name),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Delete\"))))))));\n  }\n\n}\n\nexport default Books;","map":{"version":3,"sources":["/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Books/Books.js"],"names":["React","axios","config","Books","Component","state","books","newBook","name","author","book_count","searchQuery","loading","bulkBooks","showBulkImport","fetchBooks","setState","get","API_BASE_URL","then","response","data","catch","error","console","addBook","e","preventDefault","trim","post","alert","searchBooks","deleteBook","bookId","bookName","window","confirm","delete","bulkImportBooks","lines","split","line","parts","map","part","length","push","parseInt","message","componentDidMount","render","target","value","book","id"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport config from '../../config';\r\nimport './Books.css';\r\n\r\nclass Books extends React.Component {\r\n    \r\n    state = {\r\n        books: [],\r\n        newBook: { name: '', author: '', book_count: 1 },\r\n        searchQuery: '',\r\n        loading: false,\r\n        bulkBooks: '',\r\n        showBulkImport: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.fetchBooks();\r\n    }\r\n\r\n    fetchBooks = () => {\r\n        this.setState({ loading: true });\r\n        axios.get(`${config.API_BASE_URL}/api/getBooks`)\r\n            .then(response => {\r\n                this.setState({ books: response.data, loading: false });\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching books:', error);\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n\r\n    addBook = (e) => {\r\n        e.preventDefault();\r\n        if (!this.state.newBook.name.trim() || !this.state.newBook.author.trim()) return;\r\n\r\n        axios.post(`${config.API_BASE_URL}/api/addBook`, this.state.newBook)\r\n            .then(response => {\r\n                this.setState({ newBook: { name: '', author: '', book_count: 1 } });\r\n                this.fetchBooks();\r\n                alert('Book added successfully!');\r\n            })\r\n            .catch(error => {\r\n                console.error('Error adding book:', error);\r\n                alert('Failed to add book');\r\n            });\r\n    }\r\n\r\n    searchBooks = () => {\r\n        if (!this.state.searchQuery.trim()) {\r\n            this.fetchBooks();\r\n            return;\r\n        }\r\n\r\n        axios.get(`${config.API_BASE_URL}/api/searchBooks/${this.state.searchQuery}`)\r\n            .then(response => {\r\n                this.setState({ books: response.data });\r\n            })\r\n            .catch(error => {\r\n                console.error('Error searching books:', error);\r\n            });\r\n    }\r\n\r\n    deleteBook = (bookId, bookName) => {\r\n        if (window.confirm(`Are you sure you want to delete \"${bookName}\"?`)) {\r\n            axios.delete(`${config.API_BASE_URL}/api/deleteBook/${bookId}`)\r\n                .then(response => {\r\n                    alert('Book deleted successfully!');\r\n                    this.fetchBooks();\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error deleting book:', error);\r\n                    alert(error.response?.data?.error || 'Failed to delete book');\r\n                });\r\n        }\r\n    }\r\n\r\n    bulkImportBooks = () => {\r\n        if (!this.state.bulkBooks.trim()) {\r\n            alert('Please enter book data');\r\n            return;\r\n        }\r\n\r\n        const lines = this.state.bulkBooks.trim().split('\\n');\r\n        const books = [];\r\n        \r\n        for (let line of lines) {\r\n            const parts = line.split(',').map(part => part.trim());\r\n            if (parts.length >= 2) {\r\n                books.push({\r\n                    name: parts[0],\r\n                    author: parts[1],\r\n                    book_count: parseInt(parts[2]) || 1\r\n                });\r\n            }\r\n        }\r\n\r\n        if (books.length === 0) {\r\n            alert('No valid book data found. Format: Book Name, Author, Count');\r\n            return;\r\n        }\r\n\r\n        axios.post(`${config.API_BASE_URL}/api/bulkAddBooks`, { books })\r\n            .then(response => {\r\n                alert(response.data.message);\r\n                this.setState({ bulkBooks: '', showBulkImport: false });\r\n                this.fetchBooks();\r\n            })\r\n            .catch(error => {\r\n                console.error('Error bulk importing books:', error);\r\n                alert('Failed to import books');\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='books'>\r\n                <div className=\"books-header\">\r\n                    <h1 className=\"books-title\">Book Collection</h1>\r\n                    <p className=\"books-subtitle\">Manage your library's book inventory</p>\r\n                </div>\r\n                \r\n                <div className=\"add-book-form\">\r\n                    <div className=\"form-header\">\r\n                        <h3>Add Books</h3>\r\n                        <div className=\"form-toggle\">\r\n                            <button \r\n                                type=\"button\" \r\n                                className={!this.state.showBulkImport ? 'active' : ''}\r\n                                onClick={() => this.setState({ showBulkImport: false })}\r\n                            >\r\n                                Single Book\r\n                            </button>\r\n                            <button \r\n                                type=\"button\" \r\n                                className={this.state.showBulkImport ? 'active' : ''}\r\n                                onClick={() => this.setState({ showBulkImport: true })}\r\n                            >\r\n                                Bulk Import\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    {!this.state.showBulkImport ? (\r\n                        <form onSubmit={this.addBook}>\r\n                            <div className=\"form-group\">\r\n                                <label>Book Name</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter book name\"\r\n                                    value={this.state.newBook.name}\r\n                                    onChange={(e) => this.setState({ newBook: { ...this.state.newBook, name: e.target.value } })}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Author</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter author name\"\r\n                                    value={this.state.newBook.author}\r\n                                    onChange={(e) => this.setState({ newBook: { ...this.state.newBook, author: e.target.value } })}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Count</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    placeholder=\"Number of copies\"\r\n                                    min=\"1\"\r\n                                    value={this.state.newBook.book_count}\r\n                                    onChange={(e) => this.setState({ newBook: { ...this.state.newBook, book_count: parseInt(e.target.value) } })}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button type=\"submit\">Add Book</button>\r\n                            </div>\r\n                        </form>\r\n                    ) : (\r\n                        <div className=\"bulk-import\">\r\n                            <p className=\"bulk-instructions\">\r\n                                Enter books in format: <strong>Book Name, Author, Count</strong> (one per line)\r\n                            </p>\r\n                            <textarea\r\n                                placeholder=\"Example:\\nHarry Potter, J.K. Rowling, 5\\nLord of the Rings, J.R.R. Tolkien, 3\"\r\n                                value={this.state.bulkBooks}\r\n                                onChange={(e) => this.setState({ bulkBooks: e.target.value })}\r\n                                rows=\"6\"\r\n                            />\r\n                            <button type=\"button\" onClick={this.bulkImportBooks}>Import Books</button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"search-section\">\r\n                    <div className=\"form-header\">\r\n                        <h3>Search Books</h3>\r\n                    </div>\r\n                    <div className=\"search-bar\">\r\n                        <div className=\"form-group\">\r\n                            <label>Search Query</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Search by name or author...\"\r\n                                value={this.state.searchQuery}\r\n                                onChange={(e) => this.setState({ searchQuery: e.target.value })}\r\n                            />\r\n                        </div>\r\n                        <button onClick={this.searchBooks}>Search</button>\r\n                        <button className=\"secondary\" onClick={() => { this.setState({ searchQuery: '' }); this.fetchBooks(); }}>Clear</button>\r\n                    </div>\r\n                </div>\r\n\r\n                {this.state.loading ? (\r\n                    <div className=\"loading\">Loading books...</div>\r\n                ) : (\r\n                    <div id=\"results\">\r\n                        <div id=\"heading\">Book Inventory ({this.state.books.length} books)</div>\r\n                        <table className=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>ID</th>\r\n                                    <th>Book Name</th>\r\n                                    <th>Author</th>\r\n                                    <th>Available Count</th>\r\n                                    <th>Actions</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.state.books.map(book => (\r\n                                    <tr key={book.id}>\r\n                                        <td>{book.id}</td>\r\n                                        <td>{book.name}</td>\r\n                                        <td>{book.author}</td>\r\n                                        <td>{book.book_count}</td>\r\n                                        <td>\r\n                                            <button \r\n                                                className=\"delete-btn danger\"\r\n                                                onClick={() => this.deleteBook(book.id, book.name)}\r\n                                            >\r\n                                                Delete\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Books;"]},"metadata":{},"sourceType":"module"}