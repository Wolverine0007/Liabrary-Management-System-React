{"ast":null,"code":"var _jsxFileName = \"/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Students/Students.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './Students.css';\n\nclass Students extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchStudents = () => {\n      this.setState({\n        loading: true\n      });\n      axios.get('/api/getStudents').then(response => {\n        this.setState({\n          students: response.data,\n          loading: false\n        });\n      }).catch(error => {\n        console.error('Error fetching students:', error);\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.addStudent = e => {\n      e.preventDefault();\n      if (!this.state.newStudentName.trim()) return;\n      axios.post('/api/addStudent', {\n        name: this.state.newStudentName\n      }).then(response => {\n        this.setState({\n          newStudentName: ''\n        });\n        this.fetchStudents();\n        alert('Student added successfully!');\n      }).catch(error => {\n        console.error('Error adding student:', error);\n        alert('Failed to add student');\n      });\n    };\n\n    this.searchStudents = () => {\n      if (!this.state.searchQuery.trim()) {\n        this.fetchStudents();\n        return;\n      }\n\n      axios.get(`/api/searchStudents/${this.state.searchQuery}`).then(response => {\n        this.setState({\n          students: response.data\n        });\n      }).catch(error => {\n        console.error('Error searching students:', error);\n      });\n    };\n\n    this.viewStudentDetails = studentId => {\n      axios.get(`/api/getStudent/${studentId}`).then(response => {\n        this.setState({\n          selectedStudent: response.data\n        });\n      }).catch(error => {\n        console.error('Error fetching student details:', error);\n      });\n    };\n\n    this.editStudent = student => {\n      this.setState({\n        editingStudent: student,\n        editName: student.name,\n        editFine: student.fine.toString()\n      });\n    };\n\n    this.updateStudent = () => {\n      const _this$state = this.state,\n            editingStudent = _this$state.editingStudent,\n            editName = _this$state.editName,\n            editFine = _this$state.editFine;\n\n      if (!editName.trim()) {\n        alert('Student name is required');\n        return;\n      }\n\n      axios.put(`/api/updateStudent/${editingStudent.id}`, {\n        name: editName,\n        fine: parseFloat(editFine) || 0\n      }).then(response => {\n        alert('Student updated successfully!');\n        this.setState({\n          editingStudent: null,\n          editName: '',\n          editFine: ''\n        });\n        this.fetchStudents();\n      }).catch(error => {\n        console.error('Error updating student:', error);\n        alert('Failed to update student');\n      });\n    };\n\n    this.cancelEdit = () => {\n      this.setState({\n        editingStudent: null,\n        editName: '',\n        editFine: ''\n      });\n    };\n\n    this.deleteStudent = (studentId, studentName) => {\n      if (window.confirm(`Are you sure you want to delete student \"${studentName}\"?`)) {\n        axios.delete(`/api/deleteStudent/${studentId}`).then(response => {\n          alert('Student deleted successfully!');\n          this.fetchStudents();\n        }).catch(error => {\n          var _error$response, _error$response$data;\n\n          console.error('Error deleting student:', error);\n          alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to delete student');\n        });\n      }\n    };\n\n    this.state = {\n      students: [],\n      newStudentName: '',\n      searchQuery: '',\n      selectedStudent: null,\n      editingStudent: null,\n      editName: '',\n      editFine: '',\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    this.fetchStudents();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"students-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Student Management\"), React.createElement(\"div\", {\n      className: \"add-student-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Add New Student\"), React.createElement(\"form\", {\n      onSubmit: this.addStudent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Student Name\",\n      value: this.state.newStudentName,\n      onChange: e => this.setState({\n        newStudentName: e.target.value\n      }),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Add Student\"))), React.createElement(\"div\", {\n      className: \"search-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Search Students\"), React.createElement(\"div\", {\n      className: \"search-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search by name...\",\n      value: this.state.searchQuery,\n      onChange: e => this.setState({\n        searchQuery: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.searchStudents,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          searchQuery: ''\n        });\n        this.fetchStudents();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Clear\"))), React.createElement(\"div\", {\n      className: \"students-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"All Students\"), this.state.loading ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Loading...\") : React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Fine\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, this.state.students.map(student => React.createElement(\"tr\", {\n      key: student.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, student.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, student.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"\\u20B9\", student.fine), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.viewStudentDetails(student.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"View Details\"), React.createElement(\"button\", {\n      onClick: () => this.editStudent(student),\n      style: {\n        marginLeft: '5px',\n        backgroundColor: '#007bff',\n        color: 'white',\n        border: 'none',\n        padding: '5px 10px',\n        borderRadius: '3px',\n        cursor: 'pointer'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Edit\"), React.createElement(\"button\", {\n      className: \"delete-btn\",\n      onClick: () => this.deleteStudent(student.id, student.name),\n      style: {\n        marginLeft: '5px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Delete\"))))))), this.state.selectedStudent && React.createElement(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => this.setState({\n        selectedStudent: null\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      onClick: e => e.stopPropagation(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Student Details\"), React.createElement(\"button\", {\n      className: \"close-btn\",\n      onClick: () => this.setState({\n        selectedStudent: null\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"\\xD7\")), React.createElement(\"div\", {\n      className: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"student-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"ID:\"), \" \", this.state.selectedStudent.student.id), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Name:\"), \" \", this.state.selectedStudent.student.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Fine:\"), \" \\u20B9\", this.state.selectedStudent.student.fine)), React.createElement(\"div\", {\n      className: \"issued-books\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"Issued Books\"), this.state.selectedStudent.issuedBooks.length === 0 ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"No books currently issued\") : React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"Book Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Author\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Issue Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Deadline\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, this.state.selectedStudent.issuedBooks.map(book => React.createElement(\"tr\", {\n      key: book.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, book.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, book.author), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, new Date(book.date).toLocaleDateString()), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, new Date(book.deadline).toLocaleDateString()))))))))));\n  }\n\n}\n\nexport default Students;","map":{"version":3,"sources":["/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Students/Students.js"],"names":["React","Component","axios","Students","constructor","props","fetchStudents","setState","loading","get","then","response","students","data","catch","error","console","addStudent","e","preventDefault","state","newStudentName","trim","post","name","alert","searchStudents","searchQuery","viewStudentDetails","studentId","selectedStudent","editStudent","student","editingStudent","editName","editFine","fine","toString","updateStudent","put","id","parseFloat","cancelEdit","deleteStudent","studentName","window","confirm","delete","componentDidMount","render","target","value","map","marginLeft","backgroundColor","color","border","padding","borderRadius","cursor","stopPropagation","issuedBooks","length","book","author","Date","date","toLocaleDateString","deadline"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './Students.css';\n\nclass Students extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            students: [],\n            newStudentName: '',\n            searchQuery: '',\n            selectedStudent: null,\n            editingStudent: null,\n            editName: '',\n            editFine: '',\n            loading: false\n        };\n    }\n\n    componentDidMount() {\n        this.fetchStudents();\n    }\n\n    fetchStudents = () => {\n        this.setState({ loading: true });\n        axios.get('/api/getStudents')\n            .then(response => {\n                this.setState({ students: response.data, loading: false });\n            })\n            .catch(error => {\n                console.error('Error fetching students:', error);\n                this.setState({ loading: false });\n            });\n    }\n\n    addStudent = (e) => {\n        e.preventDefault();\n        if (!this.state.newStudentName.trim()) return;\n\n        axios.post('/api/addStudent', { name: this.state.newStudentName })\n            .then(response => {\n                this.setState({ newStudentName: '' });\n                this.fetchStudents();\n                alert('Student added successfully!');\n            })\n            .catch(error => {\n                console.error('Error adding student:', error);\n                alert('Failed to add student');\n            });\n    }\n\n    searchStudents = () => {\n        if (!this.state.searchQuery.trim()) {\n            this.fetchStudents();\n            return;\n        }\n\n        axios.get(`/api/searchStudents/${this.state.searchQuery}`)\n            .then(response => {\n                this.setState({ students: response.data });\n            })\n            .catch(error => {\n                console.error('Error searching students:', error);\n            });\n    }\n\n    viewStudentDetails = (studentId) => {\n        axios.get(`/api/getStudent/${studentId}`)\n            .then(response => {\n                this.setState({ selectedStudent: response.data });\n            })\n            .catch(error => {\n                console.error('Error fetching student details:', error);\n            });\n    }\n\n    editStudent = (student) => {\n        this.setState({\n            editingStudent: student,\n            editName: student.name,\n            editFine: student.fine.toString()\n        });\n    }\n\n    updateStudent = () => {\n        const { editingStudent, editName, editFine } = this.state;\n        \n        if (!editName.trim()) {\n            alert('Student name is required');\n            return;\n        }\n\n        axios.put(`/api/updateStudent/${editingStudent.id}`, {\n            name: editName,\n            fine: parseFloat(editFine) || 0\n        })\n        .then(response => {\n            alert('Student updated successfully!');\n            this.setState({\n                editingStudent: null,\n                editName: '',\n                editFine: ''\n            });\n            this.fetchStudents();\n        })\n        .catch(error => {\n            console.error('Error updating student:', error);\n            alert('Failed to update student');\n        });\n    }\n\n    cancelEdit = () => {\n        this.setState({\n            editingStudent: null,\n            editName: '',\n            editFine: ''\n        });\n    }\n\n    deleteStudent = (studentId, studentName) => {\n        if (window.confirm(`Are you sure you want to delete student \"${studentName}\"?`)) {\n            axios.delete(`/api/deleteStudent/${studentId}`)\n                .then(response => {\n                    alert('Student deleted successfully!');\n                    this.fetchStudents();\n                })\n                .catch(error => {\n                    console.error('Error deleting student:', error);\n                    alert(error.response?.data?.error || 'Failed to delete student');\n                });\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"students-container\">\n                <h2>Student Management</h2>\n                \n                <div className=\"add-student-form\">\n                    <h3>Add New Student</h3>\n                    <form onSubmit={this.addStudent}>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Student Name\"\n                            value={this.state.newStudentName}\n                            onChange={(e) => this.setState({ newStudentName: e.target.value })}\n                            required\n                        />\n                        <button type=\"submit\">Add Student</button>\n                    </form>\n                </div>\n\n                <div className=\"search-section\">\n                    <h3>Search Students</h3>\n                    <div className=\"search-bar\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"Search by name...\"\n                            value={this.state.searchQuery}\n                            onChange={(e) => this.setState({ searchQuery: e.target.value })}\n                        />\n                        <button onClick={this.searchStudents}>Search</button>\n                        <button onClick={() => { this.setState({ searchQuery: '' }); this.fetchStudents(); }}>\n                            Clear\n                        </button>\n                    </div>\n                </div>\n\n                <div className=\"students-list\">\n                    <h3>All Students</h3>\n                    {this.state.loading ? (\n                        <p>Loading...</p>\n                    ) : (\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>ID</th>\n                                    <th>Name</th>\n                                    <th>Fine</th>\n                                    <th>Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {this.state.students.map(student => (\n                                    <tr key={student.id}>\n                                        <td>{student.id}</td>\n                                        <td>{student.name}</td>\n                                        <td>₹{student.fine}</td>\n                                        <td>\n                                            <button onClick={() => this.viewStudentDetails(student.id)}>\n                                                View Details\n                                            </button>\n                                            <button \n                                                onClick={() => this.editStudent(student)}\n                                                style={{marginLeft: '5px', backgroundColor: '#007bff', color: 'white', border: 'none', padding: '5px 10px', borderRadius: '3px', cursor: 'pointer'}}\n                                            >\n                                                Edit\n                                            </button>\n                                            <button \n                                                className=\"delete-btn\"\n                                                onClick={() => this.deleteStudent(student.id, student.name)}\n                                                style={{marginLeft: '5px'}}\n                                            >\n                                                Delete\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    )}\n                </div>\n\n                {this.state.selectedStudent && (\n                    <div className=\"modal-overlay\" onClick={() => this.setState({ selectedStudent: null })}>\n                        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n                            <div className=\"modal-header\">\n                                <h3>Student Details</h3>\n                                <button className=\"close-btn\" onClick={() => this.setState({ selectedStudent: null })}>\n                                    ×\n                                </button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div className=\"student-info\">\n                                    <p><strong>ID:</strong> {this.state.selectedStudent.student.id}</p>\n                                    <p><strong>Name:</strong> {this.state.selectedStudent.student.name}</p>\n                                    <p><strong>Fine:</strong> ₹{this.state.selectedStudent.student.fine}</p>\n                                </div>\n                                <div className=\"issued-books\">\n                                    <h4>Issued Books</h4>\n                                    {this.state.selectedStudent.issuedBooks.length === 0 ? (\n                                        <p>No books currently issued</p>\n                                    ) : (\n                                        <table>\n                                            <thead>\n                                                <tr>\n                                                    <th>Book Name</th>\n                                                    <th>Author</th>\n                                                    <th>Issue Date</th>\n                                                    <th>Deadline</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {this.state.selectedStudent.issuedBooks.map(book => (\n                                                    <tr key={book.id}>\n                                                        <td>{book.name}</td>\n                                                        <td>{book.author}</td>\n                                                        <td>{new Date(book.date).toLocaleDateString()}</td>\n                                                        <td>{new Date(book.deadline).toLocaleDateString()}</td>\n                                                    </tr>\n                                                ))}\n                                            </tbody>\n                                        </table>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Students;"]},"metadata":{},"sourceType":"module"}