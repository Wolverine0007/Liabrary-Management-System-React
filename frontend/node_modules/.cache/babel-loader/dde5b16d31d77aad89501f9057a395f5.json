{"ast":null,"code":"var _jsxFileName = \"/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Issue/Issue.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport './Issue.css';\n\nclass Issue extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      books: [],\n      students: [],\n      selectedStudentId: '',\n      selectedStudentName: '',\n      searchQuery: '',\n      loading: false\n    };\n\n    this.fetchBooks = () => {\n      axios.get('/api/getBooks').then(response => {\n        this.setState({\n          books: response.data.filter(book => book.book_count > 0)\n        });\n      }).catch(error => {\n        console.error('Error fetching books:', error);\n      });\n    };\n\n    this.fetchStudents = () => {\n      axios.get('/api/getStudents').then(response => {\n        this.setState({\n          students: response.data\n        });\n      }).catch(error => {\n        console.error('Error fetching students:', error);\n      });\n    };\n\n    this.searchBooks = () => {\n      if (!this.state.searchQuery.trim()) {\n        this.fetchBooks();\n        return;\n      }\n\n      axios.get(`/api/searchBooks/${this.state.searchQuery}`).then(response => {\n        this.setState({\n          books: response.data.filter(book => book.book_count > 0)\n        });\n      }).catch(error => {\n        console.error('Error searching books:', error);\n      });\n    };\n\n    this.issueBook = book => {\n      if (!this.state.selectedStudentId) {\n        alert('Please select a student first');\n        return;\n      }\n\n      axios.post('/api/borrow', {\n        id: book.id,\n        sid: this.state.selectedStudentId\n      }).then(response => {\n        alert(`Book \"${book.name}\" issued to ${this.state.selectedStudentName}`);\n        this.fetchBooks();\n      }).catch(error => {\n        console.error('Error issuing book:', error);\n        alert('Failed to issue book');\n      });\n    };\n\n    this.selectStudent = student => {\n      this.setState({\n        selectedStudentId: student.id,\n        selectedStudentName: student.name\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchBooks();\n    this.fetchStudents();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"issue\",\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Issue Books\"), React.createElement(\"div\", {\n      className: \"student-selection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Select Student\"), this.state.selectedStudentId ? React.createElement(\"div\", {\n      className: \"selected-student\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Selected: \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.state.selectedStudentName), \" (ID: \", this.state.selectedStudentId, \")\"), React.createElement(\"button\", {\n      onClick: () => this.setState({\n        selectedStudentId: '',\n        selectedStudentName: ''\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Change Student\")) : React.createElement(\"div\", {\n      className: \"student-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      onChange: e => {\n        const student = this.state.students.find(s => s.id == e.target.value);\n        if (student) this.selectStudent(student);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Select a student...\"), this.state.students.map(student => React.createElement(\"option\", {\n      key: student.id,\n      value: student.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, student.name, \" (ID: \", student.id, \")\"))))), React.createElement(\"div\", {\n      className: \"book-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Search Books\"), React.createElement(\"div\", {\n      className: \"search-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search books by name or author...\",\n      value: this.state.searchQuery,\n      onChange: e => this.setState({\n        searchQuery: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.searchBooks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          searchQuery: ''\n        });\n        this.fetchBooks();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Clear\"))), React.createElement(\"table\", {\n      id: \"results\",\n      className: \"table table-hover\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      id: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Book ID\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Book Name\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Author\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Available\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.state.books.map(book => React.createElement(\"tr\", {\n      key: book.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, book.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, book.name.toUpperCase()), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, book.author), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, book.book_count), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.issueBook(book),\n      disabled: !this.state.selectedStudentId || book.book_count === 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Issue\")))))));\n  }\n\n}\n\nexport default Issue;","map":{"version":3,"sources":["/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Issue/Issue.js"],"names":["React","axios","Issue","Component","state","books","students","selectedStudentId","selectedStudentName","searchQuery","loading","fetchBooks","get","then","response","setState","data","filter","book","book_count","catch","error","console","fetchStudents","searchBooks","trim","issueBook","alert","post","id","sid","name","selectStudent","student","componentDidMount","render","e","find","s","target","value","map","toUpperCase","author"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport './Issue.css';\r\n\r\nclass Issue extends React.Component {\r\n    \r\n    state = {\r\n        books: [],\r\n        students: [],\r\n        selectedStudentId: '',\r\n        selectedStudentName: '',\r\n        searchQuery: '',\r\n        loading: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.fetchBooks();\r\n        this.fetchStudents();\r\n    }\r\n\r\n    fetchBooks = () => {\r\n        axios.get('/api/getBooks')\r\n            .then(response => {\r\n                this.setState({ books: response.data.filter(book => book.book_count > 0) });\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching books:', error);\r\n            });\r\n    }\r\n\r\n    fetchStudents = () => {\r\n        axios.get('/api/getStudents')\r\n            .then(response => {\r\n                this.setState({ students: response.data });\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching students:', error);\r\n            });\r\n    }\r\n\r\n    searchBooks = () => {\r\n        if (!this.state.searchQuery.trim()) {\r\n            this.fetchBooks();\r\n            return;\r\n        }\r\n\r\n        axios.get(`/api/searchBooks/${this.state.searchQuery}`)\r\n            .then(response => {\r\n                this.setState({ books: response.data.filter(book => book.book_count > 0) });\r\n            })\r\n            .catch(error => {\r\n                console.error('Error searching books:', error);\r\n            });\r\n    }\r\n\r\n    issueBook = (book) => {\r\n        if (!this.state.selectedStudentId) {\r\n            alert('Please select a student first');\r\n            return;\r\n        }\r\n\r\n        axios.post('/api/borrow', {\r\n            id: book.id,\r\n            sid: this.state.selectedStudentId\r\n        })\r\n        .then(response => {\r\n            alert(`Book \"${book.name}\" issued to ${this.state.selectedStudentName}`);\r\n            this.fetchBooks();\r\n        })\r\n        .catch(error => {\r\n            console.error('Error issuing book:', error);\r\n            alert('Failed to issue book');\r\n        });\r\n    }\r\n\r\n    selectStudent = (student) => {\r\n        this.setState({\r\n            selectedStudentId: student.id,\r\n            selectedStudentName: student.name\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='issue' className=\"text-center\">\r\n                <h2>Issue Books</h2>\r\n                \r\n                <div className=\"student-selection\">\r\n                    <h3>Select Student</h3>\r\n                    {this.state.selectedStudentId ? (\r\n                        <div className=\"selected-student\">\r\n                            <p>Selected: <strong>{this.state.selectedStudentName}</strong> (ID: {this.state.selectedStudentId})</p>\r\n                            <button onClick={() => this.setState({ selectedStudentId: '', selectedStudentName: '' })}>Change Student</button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"student-list\">\r\n                            <select onChange={(e) => {\r\n                                const student = this.state.students.find(s => s.id == e.target.value);\r\n                                if (student) this.selectStudent(student);\r\n                            }}>\r\n                                <option value=\"\">Select a student...</option>\r\n                                {this.state.students.map(student => (\r\n                                    <option key={student.id} value={student.id}>\r\n                                        {student.name} (ID: {student.id})\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"book-search\">\r\n                    <h3>Search Books</h3>\r\n                    <div className=\"search-bar\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search books by name or author...\"\r\n                            value={this.state.searchQuery}\r\n                            onChange={(e) => this.setState({ searchQuery: e.target.value })}\r\n                        />\r\n                        <button onClick={this.searchBooks}>Search</button>\r\n                        <button onClick={() => { this.setState({ searchQuery: '' }); this.fetchBooks(); }}>Clear</button>\r\n                    </div>\r\n                </div>\r\n\r\n                <table id=\"results\" className=\"table table-hover\">\r\n                    <thead id=\"header\">\r\n                        <tr>\r\n                            <th scope=\"col\">Book ID</th>\r\n                            <th scope=\"col\">Book Name</th>\r\n                            <th scope=\"col\">Author</th>\r\n                            <th scope=\"col\">Available</th>\r\n                            <th scope=\"col\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.state.books.map(book => (\r\n                            <tr key={book.id}>\r\n                                <td>{book.id}</td>\r\n                                <td>{book.name.toUpperCase()}</td>\r\n                                <td>{book.author}</td>\r\n                                <td>{book.book_count}</td>\r\n                                <td>\r\n                                    <button \r\n                                        className=\"btn btn-primary\" \r\n                                        onClick={() => this.issueBook(book)}\r\n                                        disabled={!this.state.selectedStudentId || book.book_count === 0}\r\n                                    >\r\n                                        Issue\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Issue;"]},"metadata":{},"sourceType":"module"}