{"ast":null,"code":"var _jsxFileName = \"/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Students/Students.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './Students.css';\n\nclass Students extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchStudents = () => {\n      this.setState({\n        loading: true\n      });\n      axios.get('/api/getStudents').then(response => {\n        this.setState({\n          students: response.data,\n          loading: false\n        });\n      }).catch(error => {\n        console.error('Error fetching students:', error);\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.addStudent = e => {\n      e.preventDefault();\n      if (!this.state.newStudentName.trim()) return;\n      axios.post('/api/addStudent', {\n        name: this.state.newStudentName\n      }).then(response => {\n        this.setState({\n          newStudentName: ''\n        });\n        this.fetchStudents();\n        alert('Student added successfully!');\n      }).catch(error => {\n        console.error('Error adding student:', error);\n        alert('Failed to add student');\n      });\n    };\n\n    this.searchStudents = () => {\n      if (!this.state.searchQuery.trim()) {\n        this.fetchStudents();\n        return;\n      }\n\n      axios.get(`/api/searchStudents/${this.state.searchQuery}`).then(response => {\n        this.setState({\n          students: response.data\n        });\n      }).catch(error => {\n        console.error('Error searching students:', error);\n      });\n    };\n\n    this.viewStudentDetails = studentId => {\n      axios.get(`/api/getStudent/${studentId}`).then(response => {\n        this.setState({\n          selectedStudent: response.data\n        });\n      }).catch(error => {\n        console.error('Error fetching student details:', error);\n      });\n    };\n\n    this.state = {\n      students: [],\n      newStudentName: '',\n      searchQuery: '',\n      selectedStudent: null,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    this.fetchStudents();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"students-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Student Management\"), React.createElement(\"div\", {\n      className: \"add-student-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Add New Student\"), React.createElement(\"form\", {\n      onSubmit: this.addStudent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Student Name\",\n      value: this.state.newStudentName,\n      onChange: e => this.setState({\n        newStudentName: e.target.value\n      }),\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Add Student\"))), React.createElement(\"div\", {\n      className: \"search-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Search Students\"), React.createElement(\"div\", {\n      className: \"search-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search by name...\",\n      value: this.state.searchQuery,\n      onChange: e => this.setState({\n        searchQuery: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.searchStudents,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"button\", {\n      onClick: () => {\n        this.setState({\n          searchQuery: ''\n        });\n        this.fetchStudents();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Clear\"))), React.createElement(\"div\", {\n      className: \"students-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"All Students\"), this.state.loading ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Loading...\") : React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Fine\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, this.state.students.map(student => React.createElement(\"tr\", {\n      key: student.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, student.id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, student.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"$\", student.fine), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.viewStudentDetails(student.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"View Details\"))))))), this.state.selectedStudent && React.createElement(\"div\", {\n      className: \"student-details\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Student Details\"), React.createElement(\"div\", {\n      className: \"student-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"ID:\"), \" \", this.state.selectedStudent.student.id), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Name:\"), \" \", this.state.selectedStudent.student.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Fine:\"), \" $\", this.state.selectedStudent.student.fine)), React.createElement(\"div\", {\n      className: \"issued-books\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Issued Books\"), this.state.selectedStudent.issuedBooks.length === 0 ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"No books currently issued\") : React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Book Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Author\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Issue Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Deadline\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, this.state.selectedStudent.issuedBooks.map(book => React.createElement(\"tr\", {\n      key: book.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, book.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, book.author), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, new Date(book.date).toLocaleDateString()), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, new Date(book.deadline).toLocaleDateString())))))), React.createElement(\"button\", {\n      onClick: () => this.setState({\n        selectedStudent: null\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Close Details\")));\n  }\n\n}\n\nexport default Students;","map":{"version":3,"sources":["/Users/sanketbanate/Desktop/Project/Library-Management-System/frontend/src/components/Students/Students.js"],"names":["React","Component","axios","Students","constructor","props","fetchStudents","setState","loading","get","then","response","students","data","catch","error","console","addStudent","e","preventDefault","state","newStudentName","trim","post","name","alert","searchStudents","searchQuery","viewStudentDetails","studentId","selectedStudent","componentDidMount","render","target","value","map","student","id","fine","issuedBooks","length","book","author","Date","date","toLocaleDateString","deadline"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './Students.css';\n\nclass Students extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            students: [],\n            newStudentName: '',\n            searchQuery: '',\n            selectedStudent: null,\n            loading: false\n        };\n    }\n\n    componentDidMount() {\n        this.fetchStudents();\n    }\n\n    fetchStudents = () => {\n        this.setState({ loading: true });\n        axios.get('/api/getStudents')\n            .then(response => {\n                this.setState({ students: response.data, loading: false });\n            })\n            .catch(error => {\n                console.error('Error fetching students:', error);\n                this.setState({ loading: false });\n            });\n    }\n\n    addStudent = (e) => {\n        e.preventDefault();\n        if (!this.state.newStudentName.trim()) return;\n\n        axios.post('/api/addStudent', { name: this.state.newStudentName })\n            .then(response => {\n                this.setState({ newStudentName: '' });\n                this.fetchStudents();\n                alert('Student added successfully!');\n            })\n            .catch(error => {\n                console.error('Error adding student:', error);\n                alert('Failed to add student');\n            });\n    }\n\n    searchStudents = () => {\n        if (!this.state.searchQuery.trim()) {\n            this.fetchStudents();\n            return;\n        }\n\n        axios.get(`/api/searchStudents/${this.state.searchQuery}`)\n            .then(response => {\n                this.setState({ students: response.data });\n            })\n            .catch(error => {\n                console.error('Error searching students:', error);\n            });\n    }\n\n    viewStudentDetails = (studentId) => {\n        axios.get(`/api/getStudent/${studentId}`)\n            .then(response => {\n                this.setState({ selectedStudent: response.data });\n            })\n            .catch(error => {\n                console.error('Error fetching student details:', error);\n            });\n    }\n\n    render() {\n        return (\n            <div className=\"students-container\">\n                <h2>Student Management</h2>\n                \n                <div className=\"add-student-form\">\n                    <h3>Add New Student</h3>\n                    <form onSubmit={this.addStudent}>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Student Name\"\n                            value={this.state.newStudentName}\n                            onChange={(e) => this.setState({ newStudentName: e.target.value })}\n                            required\n                        />\n                        <button type=\"submit\">Add Student</button>\n                    </form>\n                </div>\n\n                <div className=\"search-section\">\n                    <h3>Search Students</h3>\n                    <div className=\"search-bar\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"Search by name...\"\n                            value={this.state.searchQuery}\n                            onChange={(e) => this.setState({ searchQuery: e.target.value })}\n                        />\n                        <button onClick={this.searchStudents}>Search</button>\n                        <button onClick={() => { this.setState({ searchQuery: '' }); this.fetchStudents(); }}>\n                            Clear\n                        </button>\n                    </div>\n                </div>\n\n                <div className=\"students-list\">\n                    <h3>All Students</h3>\n                    {this.state.loading ? (\n                        <p>Loading...</p>\n                    ) : (\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>ID</th>\n                                    <th>Name</th>\n                                    <th>Fine</th>\n                                    <th>Actions</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {this.state.students.map(student => (\n                                    <tr key={student.id}>\n                                        <td>{student.id}</td>\n                                        <td>{student.name}</td>\n                                        <td>${student.fine}</td>\n                                        <td>\n                                            <button onClick={() => this.viewStudentDetails(student.id)}>\n                                                View Details\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    )}\n                </div>\n\n                {this.state.selectedStudent && (\n                    <div className=\"student-details\">\n                        <h3>Student Details</h3>\n                        <div className=\"student-info\">\n                            <p><strong>ID:</strong> {this.state.selectedStudent.student.id}</p>\n                            <p><strong>Name:</strong> {this.state.selectedStudent.student.name}</p>\n                            <p><strong>Fine:</strong> ${this.state.selectedStudent.student.fine}</p>\n                        </div>\n                        <div className=\"issued-books\">\n                            <h4>Issued Books</h4>\n                            {this.state.selectedStudent.issuedBooks.length === 0 ? (\n                                <p>No books currently issued</p>\n                            ) : (\n                                <table>\n                                    <thead>\n                                        <tr>\n                                            <th>Book Name</th>\n                                            <th>Author</th>\n                                            <th>Issue Date</th>\n                                            <th>Deadline</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {this.state.selectedStudent.issuedBooks.map(book => (\n                                            <tr key={book.id}>\n                                                <td>{book.name}</td>\n                                                <td>{book.author}</td>\n                                                <td>{new Date(book.date).toLocaleDateString()}</td>\n                                                <td>{new Date(book.deadline).toLocaleDateString()}</td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n                            )}\n                        </div>\n                        <button onClick={() => this.setState({ selectedStudent: null })}>\n                            Close Details\n                        </button>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default Students;"]},"metadata":{},"sourceType":"module"}