(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(9),o=a.n(r),c=(a(69),a(70),a(11)),s=a(8),i=a(13),u=a(14),d=a(15),m=a(24),h=(a(71),a(22)),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a.isActive=function(e){return window.location.pathname===e},a.update=a.update.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"update",value:function(){this.setState(this.state)}},{key:"render",value:function(){window.location.pathname;return l.a.createElement("div",{id:"nav"},l.a.createElement(h.b,{to:"/",className:"logo",onClick:this.update},"MIT Library"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(h.b,{to:"/",className:this.isActive("/")?"active":"",onClick:this.update},"Dashboard")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/books",className:this.isActive("/books")?"active":"",onClick:this.update},"Books")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/students",className:this.isActive("/students")?"active":"",onClick:this.update},"Students")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/issue",className:this.isActive("/issue")?"active":"",onClick:this.update},"Issue Book")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/return",className:this.isActive("/return")?"active":"",onClick:this.update},"Return Book")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/fines",className:this.isActive("/fines")?"active":"",onClick:this.update},"Fine Management")),l.a.createElement("li",null,l.a.createElement(h.b,{to:"/search",className:this.isActive("/search")?"active":"",onClick:this.update},"Search")),l.a.createElement("li",null,l.a.createElement("button",{className:"logout-btn",onClick:this.props.onLogout},"Logout"))))}}]),t}(l.a.Component),p=a(40),b=a(6),f=a.n(b),k=(a(95),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={books:[],newBook:{name:"",author:"",book_count:1},searchQuery:"",loading:!1,bulkBooks:"",showBulkImport:!1},a.fetchBooks=function(){a.setState({loading:!0}),f.a.get("/api/getBooks").then((function(e){a.setState({books:e.data,loading:!1})})).catch((function(e){console.error("Error fetching books:",e),a.setState({loading:!1})}))},a.addBook=function(e){e.preventDefault(),a.state.newBook.name.trim()&&a.state.newBook.author.trim()&&f.a.post("/api/addBook",a.state.newBook).then((function(e){a.setState({newBook:{name:"",author:"",book_count:1}}),a.fetchBooks(),alert("Book added successfully!")})).catch((function(e){console.error("Error adding book:",e),alert("Failed to add book")}))},a.searchBooks=function(){a.state.searchQuery.trim()?f.a.get("/api/searchBooks/".concat(a.state.searchQuery)).then((function(e){a.setState({books:e.data})})).catch((function(e){console.error("Error searching books:",e)})):a.fetchBooks()},a.deleteBook=function(e,t){window.confirm('Are you sure you want to delete "'.concat(t,'"?'))&&f.a.delete("/api/deleteBook/".concat(e)).then((function(e){alert("Book deleted successfully!"),a.fetchBooks()})).catch((function(e){var t,a;console.error("Error deleting book:",e),alert((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to delete book")}))},a.bulkImportBooks=function(){if(a.state.bulkBooks.trim()){var e=a.state.bulkBooks.trim().split("\n"),t=[],n=!0,l=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var s=o.value.split(",").map((function(e){return e.trim()}));s.length>=2&&t.push({name:s[0],author:s[1],book_count:parseInt(s[2])||1})}}catch(i){l=!0,r=i}finally{try{n||null==c.return||c.return()}finally{if(l)throw r}}0!==t.length?f.a.post("/api/bulkAddBooks",{books:t}).then((function(e){alert(e.data.message),a.setState({bulkBooks:"",showBulkImport:!1}),a.fetchBooks()})).catch((function(e){console.error("Error bulk importing books:",e),alert("Failed to import books")})):alert("No valid book data found. Format: Book Name, Author, Count")}else alert("Please enter book data")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchBooks()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"books"},l.a.createElement("div",{className:"books-header"},l.a.createElement("h1",{className:"books-title"},"Book Collection"),l.a.createElement("p",{className:"books-subtitle"},"Manage your library's book inventory")),l.a.createElement("div",{className:"add-book-form"},l.a.createElement("div",{className:"form-header"},l.a.createElement("h3",null,"Add Books"),l.a.createElement("div",{className:"form-toggle"},l.a.createElement("button",{type:"button",className:this.state.showBulkImport?"":"active",onClick:function(){return e.setState({showBulkImport:!1})}},"Single Book"),l.a.createElement("button",{type:"button",className:this.state.showBulkImport?"active":"",onClick:function(){return e.setState({showBulkImport:!0})}},"Bulk Import"))),this.state.showBulkImport?l.a.createElement("div",{className:"bulk-import"},l.a.createElement("p",{className:"bulk-instructions"},"Enter books in format: ",l.a.createElement("strong",null,"Book Name, Author, Count")," (one per line)"),l.a.createElement("textarea",{placeholder:"Example:\\nHarry Potter, J.K. Rowling, 5\\nLord of the Rings, J.R.R. Tolkien, 3",value:this.state.bulkBooks,onChange:function(t){return e.setState({bulkBooks:t.target.value})},rows:"6"}),l.a.createElement("button",{type:"button",onClick:this.bulkImportBooks},"Import Books")):l.a.createElement("form",{onSubmit:this.addBook},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Book Name"),l.a.createElement("input",{type:"text",placeholder:"Enter book name",value:this.state.newBook.name,onChange:function(t){return e.setState({newBook:Object(p.a)({},e.state.newBook,{name:t.target.value})})},required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Author"),l.a.createElement("input",{type:"text",placeholder:"Enter author name",value:this.state.newBook.author,onChange:function(t){return e.setState({newBook:Object(p.a)({},e.state.newBook,{author:t.target.value})})},required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Count"),l.a.createElement("input",{type:"number",placeholder:"Number of copies",min:"1",value:this.state.newBook.book_count,onChange:function(t){return e.setState({newBook:Object(p.a)({},e.state.newBook,{book_count:parseInt(t.target.value)})})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit"},"Add Book")))),l.a.createElement("div",{className:"search-section"},l.a.createElement("div",{className:"form-header"},l.a.createElement("h3",null,"Search Books")),l.a.createElement("div",{className:"search-bar"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Search Query"),l.a.createElement("input",{type:"text",placeholder:"Search by name or author...",value:this.state.searchQuery,onChange:function(t){return e.setState({searchQuery:t.target.value})}})),l.a.createElement("button",{onClick:this.searchBooks},"Search"),l.a.createElement("button",{className:"secondary",onClick:function(){e.setState({searchQuery:""}),e.fetchBooks()}},"Clear"))),this.state.loading?l.a.createElement("div",{className:"loading"},"Loading books..."):l.a.createElement("div",{id:"results"},l.a.createElement("div",{id:"heading"},"Book Inventory (",this.state.books.length," books)"),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Book Name"),l.a.createElement("th",null,"Author"),l.a.createElement("th",null,"Available Count"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.state.books.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.author),l.a.createElement("td",null,t.book_count),l.a.createElement("td",null,l.a.createElement("button",{className:"delete-btn danger",onClick:function(){return e.deleteBook(t.id,t.name)}},"Delete")))}))))))}}]),t}(l.a.Component)),g=(a(96),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).fetchStudents=function(){a.setState({loading:!0}),f.a.get("/api/getStudents").then((function(e){a.setState({students:e.data,loading:!1})})).catch((function(e){console.error("Error fetching students:",e),a.setState({loading:!1})}))},a.addStudent=function(e){e.preventDefault(),a.state.newStudentName.trim()&&f.a.post("/api/addStudent",{name:a.state.newStudentName}).then((function(e){a.setState({newStudentName:""}),a.fetchStudents(),alert("Student added successfully!")})).catch((function(e){console.error("Error adding student:",e),alert("Failed to add student")}))},a.searchStudents=function(){a.state.searchQuery.trim()?f.a.get("/api/searchStudents/".concat(a.state.searchQuery)).then((function(e){a.setState({students:e.data})})).catch((function(e){console.error("Error searching students:",e)})):a.fetchStudents()},a.viewStudentDetails=function(e){f.a.get("/api/getStudent/".concat(e)).then((function(e){a.setState({selectedStudent:e.data})})).catch((function(e){console.error("Error fetching student details:",e)}))},a.editStudent=function(e){a.setState({editingStudent:e,editName:e.name,editFine:e.fine.toString()})},a.updateStudent=function(){var e=a.state,t=e.editingStudent,n=e.editName,l=e.editFine;n.trim()?f.a.put("/api/updateStudent/".concat(t.id),{name:n,fine:parseFloat(l)||0}).then((function(e){alert("Student updated successfully!"),a.setState({editingStudent:null,editName:"",editFine:""}),a.fetchStudents()})).catch((function(e){console.error("Error updating student:",e),alert("Failed to update student")})):alert("Student name is required")},a.cancelEdit=function(){a.setState({editingStudent:null,editName:"",editFine:""})},a.deleteStudent=function(e,t){window.confirm('Are you sure you want to delete student "'.concat(t,'"?'))&&f.a.delete("/api/deleteStudent/".concat(e)).then((function(e){alert("Student deleted successfully!"),a.fetchStudents()})).catch((function(e){var t,a;console.error("Error deleting student:",e),alert((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to delete student")}))},a.state={students:[],newStudentName:"",searchQuery:"",selectedStudent:null,editingStudent:null,editName:"",editFine:"",loading:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchStudents()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"students-container"},l.a.createElement("div",{className:"students-header"},l.a.createElement("h1",{className:"students-title"},"Student Registry"),l.a.createElement("p",{className:"students-subtitle"},"Manage student profiles and academic records")),l.a.createElement("div",{className:"add-student-form"},l.a.createElement("div",{className:"form-header"},l.a.createElement("h3",null,"Add New Student")),l.a.createElement("form",{onSubmit:this.addStudent},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Student Name"),l.a.createElement("input",{type:"text",placeholder:"Enter student full name",value:this.state.newStudentName,onChange:function(t){return e.setState({newStudentName:t.target.value})},required:!0})),l.a.createElement("button",{type:"submit"},"Add Student"))),l.a.createElement("div",{className:"search-section"},l.a.createElement("div",{className:"form-header"},l.a.createElement("h3",null,"Search Students")),l.a.createElement("div",{className:"search-bar"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Search Query"),l.a.createElement("input",{type:"text",placeholder:"Search by name...",value:this.state.searchQuery,onChange:function(t){return e.setState({searchQuery:t.target.value})}})),l.a.createElement("button",{onClick:this.searchStudents},"Search"),l.a.createElement("button",{className:"secondary",onClick:function(){e.setState({searchQuery:""}),e.fetchStudents()}},"Clear"))),l.a.createElement("div",{className:"students-table"},l.a.createElement("h2",{className:"table-header"},"Student Directory (",this.state.students.length," students)"),this.state.loading?l.a.createElement("div",{className:"loading"},"Loading students..."):l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Fine"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.state.students.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name),l.a.createElement("td",null,"\u20b9",t.fine),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return e.viewStudentDetails(t.id)}},"View Details"),l.a.createElement("button",{className:"secondary",onClick:function(){return e.editStudent(t)}},"Edit"),l.a.createElement("button",{className:"delete-btn danger",onClick:function(){return e.deleteStudent(t.id,t.name)}},"Delete")))}))))),this.state.selectedStudent&&l.a.createElement("div",{className:"modal-overlay",onClick:function(){return e.setState({selectedStudent:null})}},l.a.createElement("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()}},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h3",null,"Student Details"),l.a.createElement("button",{className:"close-btn",onClick:function(){return e.setState({selectedStudent:null})}},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"student-info"},l.a.createElement("p",null,l.a.createElement("strong",null,"ID:")," ",this.state.selectedStudent.student.id),l.a.createElement("p",null,l.a.createElement("strong",null,"Name:")," ",this.state.selectedStudent.student.name),l.a.createElement("p",null,l.a.createElement("strong",null,"Fine:")," \u20b9",this.state.selectedStudent.student.fine)),l.a.createElement("div",{className:"issued-books"},l.a.createElement("h4",null,"Issued Books"),0===this.state.selectedStudent.issuedBooks.length?l.a.createElement("p",null,"No books currently issued"):l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Book Name"),l.a.createElement("th",null,"Author"),l.a.createElement("th",null,"Issue Date"),l.a.createElement("th",null,"Deadline"))),l.a.createElement("tbody",null,this.state.selectedStudent.issuedBooks.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.author),l.a.createElement("td",null,new Date(e.date).toLocaleDateString()),l.a.createElement("td",null,new Date(e.deadline).toLocaleDateString()))})))))))),this.state.editingStudent&&l.a.createElement("div",{className:"modal-overlay",onClick:this.cancelEdit},l.a.createElement("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()}},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h3",null,"Edit Student"),l.a.createElement("button",{className:"close-btn",onClick:this.cancelEdit},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"edit-form"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Student Name:"),l.a.createElement("input",{type:"text",value:this.state.editName,onChange:function(t){return e.setState({editName:t.target.value})},placeholder:"Enter student name",className:"classic-input",style:{width:"100%",margin:"5px 0"}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Fine Amount (\u20b9):"),l.a.createElement("input",{type:"number",step:"0.01",min:"0",value:this.state.editFine,onChange:function(t){return e.setState({editFine:t.target.value})},placeholder:"Enter fine amount",className:"classic-input",style:{width:"100%",margin:"5px 0"}})),l.a.createElement("div",{className:"form-actions",style:{marginTop:"20px"}},l.a.createElement("button",{onClick:this.updateStudent,className:"classic-button",style:{marginRight:"10px"}},"Update Student"),l.a.createElement("button",{onClick:this.cancelEdit,className:"classic-button secondary"},"Cancel")))))))}}]),t}(n.Component)),v=(a(97),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={books:[],students:[],selectedStudentId:"",selectedStudentName:"",searchQuery:"",studentSearchQuery:"",filteredStudents:[],showStudentDropdown:!1,loading:!1},a.fetchBooks=function(){f.a.get("/api/getBooks").then((function(e){a.setState({books:e.data.filter((function(e){return e.book_count>0}))})})).catch((function(e){console.error("Error fetching books:",e)}))},a.fetchStudents=function(){f.a.get("/api/getStudents").then((function(e){a.setState({students:e.data,filteredStudents:e.data})})).catch((function(e){console.error("Error fetching students:",e)}))},a.searchBooks=function(){a.state.searchQuery.trim()?f.a.get("/api/searchBooks/".concat(a.state.searchQuery)).then((function(e){a.setState({books:e.data.filter((function(e){return e.book_count>0}))})})).catch((function(e){console.error("Error searching books:",e)})):a.fetchBooks()},a.issueBook=function(e){a.state.selectedStudentId?f.a.post("/api/borrow",{id:e.id,sid:a.state.selectedStudentId}).then((function(t){alert('Book "'.concat(e.name,'" issued to ').concat(a.state.selectedStudentName)),a.fetchBooks()})).catch((function(e){console.error("Error issuing book:",e),alert("Failed to issue book")})):alert("Please select a student first")},a.selectStudent=function(e){a.setState({selectedStudentId:e.id,selectedStudentName:e.name,studentSearchQuery:"",showStudentDropdown:!1})},a.searchStudents=function(e){var t=a.state.students.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())||t.id.toString().includes(e)}));a.setState({filteredStudents:t,showStudentDropdown:e.length>0&&t.length>0})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchBooks(),this.fetchStudents()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"issue",className:"text-center"},l.a.createElement("h2",null,"Issue Books"),l.a.createElement("div",{className:"student-selection"},l.a.createElement("h3",null,"Select Student"),this.state.selectedStudentId?l.a.createElement("div",{className:"selected-student"},l.a.createElement("p",null,"Selected: ",l.a.createElement("strong",null,this.state.selectedStudentName)," (ID: ",this.state.selectedStudentId,")"),l.a.createElement("button",{onClick:function(){return e.setState({selectedStudentId:"",selectedStudentName:"",studentSearchQuery:""})}},"Change Student")):l.a.createElement("div",{className:"student-search-container"},l.a.createElement("input",{type:"text",placeholder:"Search student by name or ID...",value:this.state.studentSearchQuery,onChange:function(t){e.setState({studentSearchQuery:t.target.value}),e.searchStudents(t.target.value)},onFocus:function(){return e.setState({showStudentDropdown:e.state.filteredStudents.length>0})}}),this.state.showStudentDropdown&&l.a.createElement("div",{className:"student-dropdown"},this.state.filteredStudents.slice(0,10).map((function(t){return l.a.createElement("div",{key:t.id,className:"student-option",onClick:function(){return e.selectStudent(t)}},l.a.createElement("span",{className:"student-name"},t.name),l.a.createElement("span",{className:"student-id"},"ID: ",t.id))}))))),l.a.createElement("div",{className:"book-search"},l.a.createElement("h3",null,"Search Books"),l.a.createElement("div",{className:"search-bar"},l.a.createElement("input",{type:"text",placeholder:"Search books by name or author...",value:this.state.searchQuery,onChange:function(t){return e.setState({searchQuery:t.target.value})}}),l.a.createElement("button",{onClick:this.searchBooks},"Search"),l.a.createElement("button",{onClick:function(){e.setState({searchQuery:""}),e.fetchBooks()}},"Clear"))),l.a.createElement("table",{id:"results",className:"table table-hover"},l.a.createElement("thead",{id:"header"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Book ID"),l.a.createElement("th",{scope:"col"},"Book Name"),l.a.createElement("th",{scope:"col"},"Author"),l.a.createElement("th",{scope:"col"},"Available"),l.a.createElement("th",{scope:"col"},"Action"))),l.a.createElement("tbody",null,this.state.books.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name.toUpperCase()),l.a.createElement("td",null,t.author),l.a.createElement("td",null,t.book_count),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.issueBook(t)},disabled:!e.state.selectedStudentId||0===t.book_count},"Issue")))})))))}}]),t}(l.a.Component)),y=a(32),S=a.n(y),N=a(26),B=a(132),C=a(136),w=a(137),x=a(138),I=a(145),D=a(139),F=a(146),O=a(140),A=a(141),j=a(142),P=a(143),L=a(144);a(99);var R=function(){var e=Object(n.useState)(""),t=Object(N.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),c=Object(N.a)(o,2),s=c[0],i=c[1],u=Object(n.useState)([]),d=Object(N.a)(u,2),m=d[0],h=d[1],E=Object(n.useState)(""),p=Object(N.a)(E,2),b=p[0],k=p[1],g=Object(n.useState)(""),v=Object(N.a)(g,2),y=v[0],R=v[1],Q=function(e){var t=new Date(e),a=new Date-t,n=Math.ceil(a/864e5);return n>0?10*n:0};return l.a.createElement(B.a,{className:"return-container"},l.a.createElement(C.a,{variant:"h4",className:"return-title"},"Return Books"),l.a.createElement(w.a,{className:"return-card"},l.a.createElement(x.a,null,l.a.createElement(C.a,{variant:"h6"},"Search Student"),l.a.createElement("form",{onSubmit:function(e){var t,n,l,r;return S.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),o.prev=1,isNaN(a)){o.next=9;break}return o.next=5,S.a.awrap(f.a.get("/api/getIssues/".concat(a)));case 5:(t=o.sent).data.length>0?(i({id:a,name:t.data[0].sname}),h(t.data),k("")):(k("No books found for this student ID."),i(null),h([])),o.next=25;break;case 9:return o.next=11,S.a.awrap(f.a.get("/api/searchStudentByName/".concat(a)));case 11:if(!((n=o.sent).data.length>0)){o.next=22;break}return l=n.data[0],o.next=16,S.a.awrap(f.a.get("/api/getIssues/".concat(l.id)));case 16:r=o.sent,i(l),h(r.data),k(""),o.next=25;break;case 22:k("No student found with this name."),i(null),h([]);case 25:o.next=31;break;case 27:o.prev=27,o.t0=o.catch(1),k("Error searching for student. Please try again."),console.error("Error searching student:",o.t0);case 31:case"end":return o.stop()}}),null,null,[[1,27]])}},l.a.createElement(I.a,{label:"Student ID or Name",variant:"outlined",fullWidth:!0,margin:"normal",value:a,onChange:function(e){return r(e.target.value)},placeholder:"Enter student ID (number) or student name",required:!0}),l.a.createElement(D.a,{container:!0,spacing:2},l.a.createElement(D.a,{item:!0,xs:6},l.a.createElement(F.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,className:"search-button"},"Search Student")),l.a.createElement(D.a,{item:!0,xs:6},l.a.createElement(F.a,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:function(){r(""),i(null),h([]),k(""),R("")}},"Reset")))))),s&&l.a.createElement(w.a,{className:"student-info-card",style:{marginTop:"20px"}},l.a.createElement(x.a,null,l.a.createElement(C.a,{variant:"h6"},"Student: ",s.name," (ID: ",s.id,")"),m.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{variant:"subtitle1",style:{marginTop:"15px"}},"Books Currently Issued:"),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(j.a,null,l.a.createElement(P.a,null,"Book Name"),l.a.createElement(P.a,null,"Author"),l.a.createElement(P.a,null,"Issue Date"),l.a.createElement(P.a,null,"Deadline"),l.a.createElement(P.a,null,"Fine (\u20b9)"),l.a.createElement(P.a,null,"Action"))),l.a.createElement(L.a,null,m.map((function(e,t){var a=Q(e.deadline),n=a>0;return l.a.createElement(j.a,{key:t,style:{backgroundColor:n?"#ffebee":"inherit"}},l.a.createElement(P.a,null,e.name),l.a.createElement(P.a,null,e.author),l.a.createElement(P.a,null,new Date(e.date).toLocaleDateString()),l.a.createElement(P.a,{style:{color:n?"red":"inherit"}},new Date(e.deadline).toLocaleDateString()),l.a.createElement(P.a,{style:{color:n?"red":"green"}},"\u20b9",a),l.a.createElement(P.a,null,l.a.createElement(F.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return function(e,t,a){var n,l;return S.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Q(a),r.next=4,S.a.awrap(f.a.post("/api/return",{sid:s.id,id:e}));case 4:return R(n>0?'Book "'.concat(t,'" returned successfully! Fine applied: \u20b9').concat(n):'Book "'.concat(t,'" returned successfully! No fine applied.')),r.next=7,S.a.awrap(f.a.get("/api/getIssues/".concat(s.id)));case 7:l=r.sent,h(l.data),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),k("Error returning book. Please try again."),console.error("Error returning book:",r.t0);case 15:case"end":return r.stop()}}),null,null,[[0,11]])}(e.id,e.name,e.deadline)}},"Return")))}))))):l.a.createElement(C.a,{variant:"body1",style:{marginTop:"15px",color:"green"}},"No books currently issued to this student."))),b&&l.a.createElement(C.a,{variant:"body1",className:b.includes("Error")?"error-message":"success-message",style:{marginTop:"15px"}},b),y&&l.a.createElement(C.a,{variant:"body1",style:{marginTop:"15px",color:"green",fontWeight:"bold"}},y))},Q=(a(100),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={searchType:"books",searchQuery:"",bookId:"",results:[],bookHolders:[],loading:!1},a.searchBooks=function(){a.state.searchQuery.trim()&&(a.setState({loading:!0}),f.a.get("/api/searchBooks/".concat(a.state.searchQuery)).then((function(e){a.setState({results:e.data,loading:!1})})).catch((function(e){console.error("Error searching books:",e),a.setState({loading:!1})})))},a.searchStudents=function(){a.state.searchQuery.trim()&&(a.setState({loading:!0}),f.a.get("/api/searchStudents/".concat(a.state.searchQuery)).then((function(e){a.setState({results:e.data,loading:!1})})).catch((function(e){console.error("Error searching students:",e),a.setState({loading:!1})})))},a.findBookHolders=function(){a.state.bookId.trim()&&(a.setState({loading:!0}),f.a.get("/api/bookHolders/".concat(a.state.bookId)).then((function(e){a.setState({bookHolders:e.data,loading:!1})})).catch((function(e){console.error("Error finding book holders:",e),a.setState({loading:!1,bookHolders:[]})})))},a.handleSearch=function(){"books"===a.state.searchType?a.searchBooks():a.searchStudents()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"search",className:"text-center"},l.a.createElement("h2",null,"Search Library"),l.a.createElement("div",{className:"search-section"},l.a.createElement("h3",null,"Search Books or Students"),l.a.createElement("div",{className:"search-controls"},l.a.createElement("select",{value:this.state.searchType,onChange:function(t){return e.setState({searchType:t.target.value,results:[]})}},l.a.createElement("option",{value:"books"},"Search Books"),l.a.createElement("option",{value:"students"},"Search Students")),l.a.createElement("input",{type:"text",placeholder:"books"===this.state.searchType?"Enter book name or author...":"Enter student name...",value:this.state.searchQuery,onChange:function(t){return e.setState({searchQuery:t.target.value})}}),l.a.createElement("button",{onClick:this.handleSearch},"Search"))),l.a.createElement("div",{className:"book-holders-section"},l.a.createElement("h3",null,"Find Who Has a Book"),l.a.createElement("div",{className:"search-controls"},l.a.createElement("input",{type:"number",placeholder:"Enter Book ID...",value:this.state.bookId,onChange:function(t){return e.setState({bookId:t.target.value})},min:"1"}),l.a.createElement("button",{onClick:this.findBookHolders},"Find Holders"))),this.state.loading&&l.a.createElement("p",null,"Loading..."),this.state.results.length>0&&l.a.createElement("div",{className:"search-results"},l.a.createElement("h3",null,"books"===this.state.searchType?"Book Results":"Student Results"),l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,"books"===this.state.searchType?l.a.createElement(l.a.Fragment,null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Book Name"),l.a.createElement("th",null,"Author"),l.a.createElement("th",null,"Available Count")):l.a.createElement(l.a.Fragment,null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Student Name"),l.a.createElement("th",null,"Fine")))),l.a.createElement("tbody",null,this.state.results.map((function(t){return l.a.createElement("tr",{key:t.id},"books"===e.state.searchType?l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name.toUpperCase()),l.a.createElement("td",null,t.author),l.a.createElement("td",null,t.book_count)):l.a.createElement(l.a.Fragment,null,l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name.toUpperCase()),l.a.createElement("td",null,"$",t.fine)))}))))),this.state.bookHolders.length>0&&l.a.createElement("div",{className:"book-holders-results"},l.a.createElement("h3",null,"Students Who Have This Book"),l.a.createElement("table",{className:"table table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Student ID"),l.a.createElement("th",null,"Student Name"),l.a.createElement("th",null,"Issue Date"),l.a.createElement("th",null,"Return Deadline"))),l.a.createElement("tbody",null,this.state.bookHolders.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.name.toUpperCase()),l.a.createElement("td",null,new Date(e.date).toLocaleDateString()),l.a.createElement("td",null,new Date(e.deadline).toLocaleDateString()))}))))),0===this.state.bookHolders.length&&this.state.bookId&&!this.state.loading&&l.a.createElement("p",null,"No one has issued this book or book not found"))}}]),t}(l.a.Component)),T=(a(101),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).fetchDashboardData=function(){Promise.all([f.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL||"","/api/dashboard")),f.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL||"","/api/overdueBooks")),f.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL||"","/api/studentsWithFines"))]).then((function(e){var t=Object(N.a)(e,3),n=t[0],l=t[1],r=t[2];console.log("Dashboard data:",{analytics:n.data,overdueBooks:l.data,studentsWithFines:r.data}),a.setState({analytics:n.data,overdueBooks:l.data,studentsWithFines:r.data,loading:!1})})).catch((function(e){console.error("Error fetching dashboard data:",e),a.setState({loading:!1})}))},a.state={analytics:{},overdueBooks:[],studentsWithFines:[],loading:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchDashboardData()}},{key:"render",value:function(){var e=this.state,t=e.analytics,a=e.overdueBooks,n=e.studentsWithFines;return e.loading?l.a.createElement("div",{className:"loading"},"Loading Dashboard..."):l.a.createElement("div",{className:"dashboard"},l.a.createElement("div",{className:"dashboard-header"},l.a.createElement("h1",{className:"dashboard-title"},"Library Overview"),l.a.createElement("p",{className:"dashboard-subtitle"},"Monitor your library's activities and statistics")),l.a.createElement("div",{className:"stats-grid"},l.a.createElement("div",{className:"stat-card"},l.a.createElement("h3",null,"Total Books"),l.a.createElement("div",{className:"stat-number"},t.totalBooks||0)),l.a.createElement("div",{className:"stat-card"},l.a.createElement("h3",null,"Available Books"),l.a.createElement("div",{className:"stat-number"},t.availableBooks||0)),l.a.createElement("div",{className:"stat-card"},l.a.createElement("h3",null,"Total Students"),l.a.createElement("div",{className:"stat-number"},t.totalStudents||0)),l.a.createElement("div",{className:"stat-card"},l.a.createElement("h3",null,"Books Borrowed"),l.a.createElement("div",{className:"stat-number"},t.totalBorrowed||0)),l.a.createElement("div",{className:"stat-card overdue"},l.a.createElement("h3",null,"Overdue Books"),l.a.createElement("div",{className:"stat-number"},t.overdueBooks||0)),l.a.createElement("div",{className:"stat-card fines"},l.a.createElement("h3",null,"Total Fines"),l.a.createElement("div",{className:"stat-number"},"\u20b9",t.totalFines||0))),l.a.createElement("div",{className:"dashboard-sections"},l.a.createElement("div",{className:"section"},l.a.createElement("h3",null,"Overdue Books"),0===a.length?l.a.createElement("p",null,"No overdue books"):l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Student ID"),l.a.createElement("th",null,"Student"),l.a.createElement("th",null,"Book"),l.a.createElement("th",null,"Days Overdue"),l.a.createElement("th",null,"Deadline"))),l.a.createElement("tbody",null,a.slice(0,5).map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.studentId),l.a.createElement("td",null,e.studentName),l.a.createElement("td",null,e.bookName),l.a.createElement("td",{className:"overdue-days"},e.daysOverdue),l.a.createElement("td",null,new Date(e.deadline).toLocaleDateString()))}))))),l.a.createElement("div",{className:"section"},l.a.createElement("h3",null,"Students with Fines"),0===n.length?l.a.createElement("p",null,"No outstanding fines"):l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Student ID"),l.a.createElement("th",null,"Student Name"),l.a.createElement("th",null,"Recorded Fine"),l.a.createElement("th",null,"Pending Fine"),l.a.createElement("th",null,"Total"))),l.a.createElement("tbody",null,n.slice(0,5).map((function(e){var t=a.filter((function(t){return t.studentName===e.name})).reduce((function(e,t){return e+10*Math.max(0,t.daysOverdue)}),0),n=parseFloat(e.fine)||0,r=n+t;return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.name),l.a.createElement("td",{className:"fine-amount"},"\u20b9",n.toFixed(2)),l.a.createElement("td",{className:"pending-fine"},"\u20b9",t.toFixed(2)),l.a.createElement("td",{className:"total-fine"},l.a.createElement("strong",null,"\u20b9",r.toFixed(2))))})))))))}}]),t}(n.Component)),M=(a(102),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).fetchFineData=function(){a.setState({loading:!0}),Promise.all([f.a.get("/api/studentsWithFines"),f.a.get("/api/overdueBooks")]).then((function(e){var t=Object(N.a)(e,2),n=t[0],l=t[1];a.setState({studentsWithFines:n.data,overdueBooks:l.data,loading:!1})})).catch((function(e){console.error("Error fetching fine data:",e),a.setState({loading:!1})}))},a.payFine=function(e,t,n){var l=parseFloat(a.state.paymentAmount);!l||l<=0||l>n?alert("Please enter a valid payment amount"):window.confirm("Process payment of \u20b9".concat(l," for ").concat(t,"?"))&&f.a.post("/api/payFine",{studentId:e,amount:l}).then((function(e){alert("Payment processed successfully!"),a.setState({paymentAmount:"",selectedStudent:null}),a.fetchFineData()})).catch((function(e){console.error("Error processing payment:",e),alert("Failed to process payment")}))},a.state={studentsWithFines:[],overdueBooks:[],paymentAmount:"",selectedStudent:null,loading:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchFineData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.studentsWithFines,n=t.overdueBooks,r=t.paymentAmount,o=t.selectedStudent,c=t.loading;return l.a.createElement("div",{className:"fine-management"},l.a.createElement("h2",null,"Fine Management"),c&&l.a.createElement("div",{className:"loading"},"Loading..."),l.a.createElement("div",{className:"fine-sections"},l.a.createElement("div",{className:"section"},l.a.createElement("h3",null,"Students with Outstanding Fines"),0===a.length?l.a.createElement("p",{className:"no-data"},"No outstanding fines"):l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Student ID"),l.a.createElement("th",null,"Student Name"),l.a.createElement("th",null,"Fine Amount"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,a.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name),l.a.createElement("td",{className:"fine-amount"},"\u20b9",(parseFloat(t.fine)||0).toFixed(2)),l.a.createElement("td",null,l.a.createElement("button",{className:"pay-btn",onClick:function(){return e.setState({selectedStudent:t,paymentAmount:(parseFloat(t.fine)||0).toString()})}},"Pay Fine")))}))))),l.a.createElement("div",{className:"section"},l.a.createElement("h3",null,"Overdue Books (Generating Fines)"),0===n.length?l.a.createElement("p",{className:"no-data"},"No overdue books"):l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Student"),l.a.createElement("th",null,"Book"),l.a.createElement("th",null,"Days Overdue"),l.a.createElement("th",null,"Potential Fine"),l.a.createElement("th",null,"Deadline"))),l.a.createElement("tbody",null,n.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.studentName),l.a.createElement("td",null,e.bookName),l.a.createElement("td",{className:"overdue-days"},e.daysOverdue),l.a.createElement("td",{className:"potential-fine"},"\u20b9",(10*Math.max(0,e.daysOverdue-1)).toFixed(2)),l.a.createElement("td",null,new Date(e.deadline).toLocaleDateString()))})))))),o&&l.a.createElement("div",{className:"payment-modal",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3}},l.a.createElement("div",{className:"modal-content",style:{backgroundColor:"white",padding:"20px",borderRadius:"10px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto"}},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},l.a.createElement("h3",null,"Process Payment"),l.a.createElement("button",{onClick:function(){return e.setState({selectedStudent:null,paymentAmount:""})},style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#999"}},"\xd7")),l.a.createElement("div",{className:"payment-details"},l.a.createElement("p",null,l.a.createElement("strong",null,"Student:")," ",o.name),l.a.createElement("p",null,l.a.createElement("strong",null,"Current Fine:")," \u20b9",(parseFloat(o.fine)||0).toFixed(2)),l.a.createElement("div",{className:"payment-input"},l.a.createElement("label",null,"Payment Amount:"),l.a.createElement("input",{type:"number",step:"0.01",max:parseFloat(o.fine)||0,value:r,onChange:function(t){return e.setState({paymentAmount:t.target.value})},placeholder:"Enter amount"})),l.a.createElement("div",{className:"payment-methods"},l.a.createElement("h4",null,"Payment Options"),l.a.createElement("div",{className:"upi-payment",style:{marginBottom:"20px",padding:"15px",border:"1px solid #ddd",borderRadius:"8px"}},l.a.createElement("h5",null,"UPI Payment"),l.a.createElement("div",{className:"upi-options",style:{display:"flex",gap:"20px",flexWrap:"wrap"}},l.a.createElement("div",{className:"upi-qr",style:{textAlign:"center"}},l.a.createElement("p",null,"Scan QR Code:"),l.a.createElement("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=upi://pay?pa=8275152241@ibl&pn=MIT%20Library&am=".concat(r||0,"&cu=INR&tn=Fine%20Payment%20Student%20").concat(o.id),alt:"UPI QR Code",style:{border:"1px solid #ddd",padding:"10px"},onError:function(e){e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkVycm9yIExvYWRpbmcgUVI8L3RleHQ+PC9zdmc+"}})),l.a.createElement("div",{className:"upi-links",style:{flex:1,minWidth:"200px"}},l.a.createElement("p",null,"Or click to pay:"),l.a.createElement("div",{className:"upi-apps",style:{display:"flex",flexDirection:"column",gap:"10px"}},l.a.createElement("a",{href:"upi://pay?pa=8275152241@ibl&pn=MIT%20Library&am=".concat(r||0,"&cu=INR&tn=Fine%20Payment%20Student%20").concat(o.id),className:"upi-link paytm",style:{margin:"5px",padding:"8px 15px",backgroundColor:"#00BAF2",color:"white",textDecoration:"none",borderRadius:"5px",display:"inline-block"},onClick:function(e){(!r||r<=0)&&(e.preventDefault(),alert("Please enter a valid payment amount"))}},"PayTM"),l.a.createElement("a",{href:"upi://pay?pa=8275152241@ibl&pn=MIT%20Library&am=".concat(r||0,"&cu=INR&tn=Fine%20Payment%20Student%20").concat(o.id),className:"upi-link gpay",style:{margin:"5px",padding:"8px 15px",backgroundColor:"#4285F4",color:"white",textDecoration:"none",borderRadius:"5px",display:"inline-block"},onClick:function(e){(!r||r<=0)&&(e.preventDefault(),alert("Please enter a valid payment amount"))}},"Google Pay"),l.a.createElement("a",{href:"upi://pay?pa=8275152241@ibl&pn=MIT%20Library&am=".concat(r||0,"&cu=INR&tn=Fine%20Payment%20Student%20").concat(o.id),className:"upi-link phonepe",style:{margin:"5px",padding:"8px 15px",backgroundColor:"#5F259F",color:"white",textDecoration:"none",borderRadius:"5px",display:"inline-block"},onClick:function(e){(!r||r<=0)&&(e.preventDefault(),alert("Please enter a valid payment amount"))}},"PhonePe")))),l.a.createElement("div",{className:"upi-details",style:{marginTop:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"5px"}},l.a.createElement("p",null,l.a.createElement("strong",null,"UPI ID:")," 8275152241@ibl"),l.a.createElement("p",null,l.a.createElement("strong",null,"Amount:")," \u20b9",r||0),l.a.createElement("p",null,l.a.createElement("strong",null,"Reference:")," Student ID ",o.id," - ",o.name))),l.a.createElement("div",{className:"manual-payment",style:{marginTop:"20px",borderTop:"1px solid #ddd",paddingTop:"15px"}},l.a.createElement("h5",null,"Manual Payment Confirmation"),l.a.createElement("p",{style:{fontSize:"14px",color:"#666"}},"After making the UPI payment, click below to mark as paid:"),l.a.createElement("div",{className:"payment-actions"},l.a.createElement("button",{className:"process-btn",onClick:function(){return e.payFine(o.id,o.name,parseFloat(o.fine)||0)},style:{backgroundColor:"#28a745",color:"white",padding:"10px 20px",border:"none",borderRadius:"5px",marginRight:"10px",cursor:"pointer"}},"Mark as Paid"),l.a.createElement("button",{className:"cancel-btn",onClick:function(){return e.setState({selectedStudent:null,paymentAmount:""})},style:{backgroundColor:"#6c757d",color:"white",padding:"10px 20px",border:"none",borderRadius:"5px",cursor:"pointer"}},"Cancel"))))))))}}]),t}(n.Component)),W=(a(103),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.state.isLogin?"admin"===a.state.email&&"admin"===a.state.password?(localStorage.setItem("isAuthenticated","true"),a.props.onLogin()):alert("Invalid credentials"):(alert("Registration successful! Please login."),a.setState({isLogin:!0}))},a.state={email:"",password:"",isLogin:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,r=t.isLogin;return l.a.createElement("div",{className:"auth-container"},l.a.createElement("div",{className:"auth-card"},l.a.createElement("div",{className:"auth-header"},l.a.createElement("h1",{className:"auth-title"},"MIT Library"),l.a.createElement("p",{className:"auth-subtitle"},"Admin Portal")),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"auth-form"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{type:"text",value:a,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Enter username (admin)",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",value:n,onChange:function(t){return e.setState({password:t.target.value})},placeholder:"Enter your password",required:!0})),l.a.createElement("button",{type:"submit",className:"auth-btn"},r?"Login":"Register")),l.a.createElement("div",{className:"auth-footer"},l.a.createElement("p",null,r?"Don't have an account? ":"Already have an account? ",l.a.createElement("button",{type:"button",className:"toggle-btn",onClick:function(){return e.setState({isLogin:!r})}},r?"Register":"Login")))))}}]),t}(n.Component)),_=(a(104),a(31)),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleLogin=function(){a.setState({isAuthenticated:!0})},a.handleLogout=function(){localStorage.removeItem("isAuthenticated"),a.setState({isAuthenticated:!1})},a.state={isAuthenticated:"true"===localStorage.getItem("isAuthenticated")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.isAuthenticated?l.a.createElement("div",{className:"App"},l.a.createElement(E,{onLogout:this.handleLogout}),l.a.createElement(_.d,null,l.a.createElement(_.b,{path:"/",exact:!0,strict:!0,component:T}),l.a.createElement(_.b,{path:"/books",exact:!0,strict:!0,component:k}),l.a.createElement(_.b,{path:"/students",exact:!0,strict:!0,component:g}),l.a.createElement(_.b,{path:"/issue",exact:!0,strict:!0,component:v}),l.a.createElement(_.b,{path:"/return",exact:!0,strict:!0,component:R}),l.a.createElement(_.b,{path:"/search",exact:!0,strict:!0,component:Q}),l.a.createElement(_.b,{path:"/fines",exact:!0,strict:!0,component:M}),l.a.createElement(_.a,{from:"*",to:"/"}))):l.a.createElement(W,{onLogin:this.handleLogin})}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(h.a,null,l.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},64:function(e,t,a){e.exports=a(105)},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.b64aabb4.chunk.js.map